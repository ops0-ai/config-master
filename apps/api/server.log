
> api@0.1.0 dev
> nodemon src/index.ts

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
üîç Drift detection service started with hourly scans
üîç Checking Ansible availability...
üå± Seeding RBAC permissions and roles...
üìù Creating system permissions...
üöÄ Server running on port 5005
üìä Health check: http://localhost:5005/health
üì¶ Ansible not found. Attempting automatic installation...
üì¶ Installing Ansible via pip3...
üëë Creating system roles...
‚úÖ RBAC seeding completed successfully!
‚úÖ Ansible installed successfully via pip3.
‚úÖ Ansible installation completed successfully.
üîß Platform ready with Ansible integration and RBAC
::ffff:127.0.0.1 - - [10/Aug/2025:18:19:24 +0000] "GET /health HTTP/1.1" 200 54 "-" "curl/8.1.2"
::1 - - [10/Aug/2025:18:20:11 +0000] "GET /api/roles HTTP/1.1" 200 12848 "http://localhost:3000/settings" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:11 +0000] "GET /api/roles HTTP/1.1" 304 - "http://localhost:3000/settings" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/roles/permissions/all HTTP/1.1" 200 5764 "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/roles/c526160d-7248-4cee-aa31-110408448292 HTTP/1.1" 304 - "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/roles/permissions/all HTTP/1.1" 304 - "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:14 +0000] "GET /api/roles/c526160d-7248-4cee-aa31-110408448292 HTTP/1.1" 304 - "http://localhost:3000/settings/roles/create?id=c526160d-7248-4cee-aa31-110408448292" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs/resources HTTP/1.1" 200 392 "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs/actions HTTP/1.1" 304 - "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs?page=1&limit=50 HTTP/1.1" 200 30477 "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/users HTTP/1.1" 304 - "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs/actions HTTP/1.1" 304 - "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs/resources HTTP/1.1" 304 - "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:23 +0000] "GET /api/audit-logs?page=1&limit=50 HTTP/1.1" 200 30442 "http://localhost:3000/settings?tab=roles" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:32 +0000] "GET /api/aws HTTP/1.1" 200 2 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:32 +0000] "GET /api/aws HTTP/1.1" 304 - "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
Error fetching AWS regions: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: ec2:DescribeRegions because no identity-based policy allows the ec2:DescribeRegions action
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-ec2/dist-cjs/index.js:17271:10)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.getAvailableRegions (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:55:24)
    at async /Users/chaitanyasistla/Desktop/config-management/apps/api/src/routes/aws.ts:44:21 {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '241fb4be-7cd0-4e8b-9423-b5f6b6a5ddef',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Code: 'UnauthorizedOperation'
}
::1 - - [10/Aug/2025:18:20:32 +0000] "GET /api/aws/regions HTTP/1.1" 200 164 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
Error fetching AWS regions: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: ec2:DescribeRegions because no identity-based policy allows the ec2:DescribeRegions action
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-ec2/dist-cjs/index.js:17271:10)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.getAvailableRegions (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:55:24)
    at async /Users/chaitanyasistla/Desktop/config-management/apps/api/src/routes/aws.ts:44:21 {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '5babc46d-0bc7-4804-b000-d5d46265748e',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Code: 'UnauthorizedOperation'
}
::1 - - [10/Aug/2025:18:20:32 +0000] "GET /api/aws/regions HTTP/1.1" 304 - "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
::1 - - [10/Aug/2025:18:20:34 +0000] "GET /api/aws/iam-policy HTTP/1.1" 200 989 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üîê Testing AWS connection with assume role...
üîë Assuming AWS role: arn:aws:iam::359375618857:role/config-master
‚ùå Failed to assume AWS role: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: 'ab2c8054-05b0-46af-89ee-8276a6b8eaa1',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
‚ùå AWS connection test failed: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: 'ab2c8054-05b0-46af-89ee-8276a6b8eaa1',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
::1 - - [10/Aug/2025:18:22:38 +0000] "POST /api/aws/test-connection HTTP/1.1" 400 177 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üîê Testing AWS connection with assume role...
üîë Assuming AWS role: arn:aws:iam::359375618857:role/config-master
‚ùå Failed to assume AWS role: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '82e924f6-5a1d-4b73-ad97-c5f1f9be4445',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
‚ùå AWS connection test failed: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '82e924f6-5a1d-4b73-ad97-c5f1f9be4445',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
::1 - - [10/Aug/2025:18:24:40 +0000] "POST /api/aws/test-connection HTTP/1.1" 400 177 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üîê Testing AWS connection with assume role...
üîë Assuming AWS role: arn:aws:iam::359375618857:role/config-master
‚ùå Failed to assume AWS role: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '9fe847af-5b44-416d-a860-f5506f2806d9',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
‚ùå AWS connection test failed: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: '9fe847af-5b44-416d-a860-f5506f2806d9',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
::1 - - [10/Aug/2025:18:24:42 +0000] "POST /api/aws/test-connection HTTP/1.1" 400 177 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üîê Testing AWS connection with assume role...
üîë Assuming AWS role: arn:aws:iam::359375618857:role/config-master
‚ùå Failed to assume AWS role: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: 'd20e9201-18ca-439e-8460-ae44a3f39267',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
‚ùå AWS connection test failed: AccessDenied: User: arn:aws:iam::359375618857:user/ops0-user is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::359375618857:role/config-master
    at throwDefaultError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:388:20)
    at /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/smithy-client/dist-cjs/index.js:397:5
    at de_CommandError (/Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/client-sts/dist-cjs/index.js:514:14)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-serde/dist-cjs/index.js:36:20
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/core/dist-cjs/index.js:193:18
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /Users/chaitanyasistla/Desktop/config-management/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async AWSService.assumeRole (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:141:24)
    at async AWSService.testConnection (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/services/awsService.ts:80:27) {
  '$fault': 'client',
  '$metadata': {
    httpStatusCode: 403,
    requestId: 'd20e9201-18ca-439e-8460-ae44a3f39267',
    extendedRequestId: undefined,
    cfId: undefined,
    attempts: 1,
    totalRetryDelay: 0
  },
  Type: 'Sender',
  Code: 'AccessDenied'
}
::1 - - [10/Aug/2025:18:24:43 +0000] "POST /api/aws/test-connection HTTP/1.1" 400 177 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/pem-keys (required: pem-keys:read)
::1 - - [10/Aug/2025:18:26:33 +0000] "GET /api/pem-keys HTTP/1.1" 403 87 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/pem-keys (required: pem-keys:read)
::1 - - [10/Aug/2025:18:26:33 +0000] "GET /api/pem-keys HTTP/1.1" 403 87 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws/regions (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:38 +0000] "GET /api/aws/regions HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:38 +0000] "GET /api/aws HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:38 +0000] "GET /api/aws HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws/regions (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:38 +0000] "GET /api/aws/regions HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:42 +0000] "GET /api/aws HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws/regions (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:42 +0000] "GET /api/aws/regions HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws/regions (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:42 +0000] "GET /api/aws/regions HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:42 +0000] "GET /api/aws HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
üö´ Access denied for user d5431ee7-0690-4597-aa0f-108a2c1b2c88 to GET:/api/aws/iam-policy (required: aws-integrations:read)
::1 - - [10/Aug/2025:18:26:43 +0000] "GET /api/aws/iam-policy HTTP/1.1" 403 95 "http://localhost:3000/settings/integrations/cloud/aws" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
üîç Drift detection service started with hourly scans
üîç Checking Ansible availability...
üå± Seeding RBAC permissions and roles...
üìù Creating system permissions...
Error: listen EADDRINUSE: address already in use :::5005
    at Server.setupListenHandle [as _listen2] (node:net:1904:16)
    at listenInCluster (node:net:1961:12)
    at Server.listen (node:net:2063:7)
    at Object.<anonymous> (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/index.ts:100:8)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module.m._compile (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1618:23)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Object.require.extensions.<computed> [as .ts] (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Function.Module._load (node:internal/modules/cjs/loader:1104:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5005
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
üîç Drift detection service started with hourly scans
üîç Checking Ansible availability...
üå± Seeding RBAC permissions and roles...
üìù Creating system permissions...
Error: listen EADDRINUSE: address already in use :::5005
    at Server.setupListenHandle [as _listen2] (node:net:1904:16)
    at listenInCluster (node:net:1961:12)
    at Server.listen (node:net:2063:7)
    at Object.<anonymous> (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/index.ts:100:8)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module.m._compile (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1618:23)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Object.require.extensions.<computed> [as .ts] (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Function.Module._load (node:internal/modules/cjs/loader:1104:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5005
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node src/index.ts`[39m
üîç Drift detection service started with hourly scans
üîç Checking Ansible availability...
üå± Seeding RBAC permissions and roles...
üìù Creating system permissions...
Error: listen EADDRINUSE: address already in use :::5005
    at Server.setupListenHandle [as _listen2] (node:net:1904:16)
    at listenInCluster (node:net:1961:12)
    at Server.listen (node:net:2063:7)
    at Object.<anonymous> (/Users/chaitanyasistla/Desktop/config-management/apps/api/src/index.ts:100:8)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module.m._compile (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1618:23)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Object.require.extensions.<computed> [as .ts] (/Users/chaitanyasistla/Desktop/config-management/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Function.Module._load (node:internal/modules/cjs/loader:1104:12) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 5005
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
npm error Lifecycle script `dev` failed with error:
npm error code 143
npm error path /Users/chaitanyasistla/Desktop/config-management/apps/api
npm error workspace api@0.1.0
npm error location /Users/chaitanyasistla/Desktop/config-management/apps/api
npm error command failed
npm error command sh -c nodemon src/index.ts
